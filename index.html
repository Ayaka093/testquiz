<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Quiz Kontraksi Otot</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f0f0;
      padding: 20px;
      transition: background 0.3s, color 0.3s;
    }

    body.dark-mode {
      background: #121212;
      color: #e0e0e0;
    }

    .container {
      max-width: 800px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
    }

    body.dark-mode .container {
      background: #1e1e1e;
    }

    h1, h2 {
      text-align: center;
      font-size: 2em;
    }

    .menu, .materi, .quiz, .hasil {
      display: none;
    }

    .question {
      margin-bottom: 20px;
    }

    button {
      padding: 15px 30px;
      margin: 10px 5px;
      font-size: 1.1em;
      border: none;
      background-color: #007bff;
      color: white;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background-color: #0056b3;
    }

    .dark-mode-toggle {
      float: right;
      margin-bottom: 15px;
    }

    .dark-mode-toggle button {
      background-color: #444;
    }

    body.dark-mode .dark-mode-toggle button {
      background-color: #bbb;
      color: #000;
    }

    body.dark-mode button {
      background-color: #333;
    }

    body.dark-mode button:hover {
      background-color: #555;
    }
  </style>
</head>
<body>

<div class="container">
  <div class="dark-mode-toggle">
    <button onclick="toggleDarkMode()">Toggle Dark Mode</button>
  </div>

  <div class="menu">
    <h1>Selamat Datang di Quiz Kontraksi Otot</h1>
    <button onclick="showPage('materi')">Lihat Materi</button>
    <button onclick="startQuiz()">Mulai Kuis</button>
  </div>

  <div class="materi">
    <h2>Materi Kontraksi dan Relaksasi Otot</h2>
    <div style="text-align: justify; white-space: pre-wrap;">
      <!-- Materi tidak diubah -->
      (Materi tetap sama seperti sebelumnya)
    </div>
    <button onclick="showPage('menu')">Kembali ke Menu</button>
    <button onclick="startQuiz()">Mulai Kuis</button>
  </div>

  <div class="quiz">
    <h2 style="font-size: 2em;">Kuis Kontraksi Otot</h2>
    <div class="question" id="questionBox"></div>
    <button onclick="nextQuestion()">Berikutnya</button>
    <button onclick="showPage('menu')">Kembali ke Menu</button>
  </div>

  <div class="hasil">
    <h2>Hasil Kuis</h2>
    <p id="scoreText"></p>
    <button onclick="showPage('menu')">Kembali ke Menu</button>
  </div>
</div>

<audio id="bgm" loop>
  <source src="musik-latar.mp3" type="audio/mpeg">
  Browser Anda tidak mendukung audio.
</audio>

<script>
  const soal = [ /* Soal tetap sama seperti sebelumnya */ ];

  let current = 0;
  let score = 0;

  function showPage(page) {
    document.querySelectorAll('.menu, .materi, .quiz, .hasil').forEach(div => div.style.display = 'none');
    document.querySelector('.' + page).style.display = 'block';
  }

  function startQuiz() {
    current = 0;
    score = 0;
    showPage('quiz');
    renderQuestion();
  }

  function renderQuestion() {
    const q = soal[current];
    const box = document.getElementById('questionBox');
    box.innerHTML = `<p style="font-size: 1.3em;">${current + 1}. ${q.t}</p>` + q.o.map((opt, idx) =>
      `<label><input type="radio" name="q" value="${opt[0]}"> ${opt}</label><br>`
    ).join('');
  }

  function nextQuestion() {
    const selected = document.querySelector('input[name="q"]:checked');
    if (!selected) return alert("Pilih jawaban terlebih dahulu!");
    if (selected.value === soal[current].j) score++;
    current++;
    if (current < soal.length) {
      renderQuestion();
    } else {
      document.getElementById('scoreText').textContent = `Skor Anda: ${score} dari ${soal.length}`;
      showPage('hasil');
    }
  }

  function toggleDarkMode() {
    document.body.classList.toggle('dark-mode');
  }

  showPage('menu');

  document.addEventListener('click', function () {
    var audio = document.getElementById('bgm');
    if (audio.paused) {
      audio.play();
    }
  }, { once: true });
</script>

</body>
</html>
